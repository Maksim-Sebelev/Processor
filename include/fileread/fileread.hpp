#ifndef FILEREAD_HPP
#define FILEREAD_HPP

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include <stdio.h>
#include <malloc.h>

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define FREE(ptr) free((char*)ptr); ptr = nullptr

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct Word
{
    const char* word;
    size_t      len;
    size_t      line;
    size_t      inLine;
};

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define WORD_ARRAY_POINTER

#ifdef WORD_ARRAY_POINTER
    #define ON_WORD_POINTER_POINTER(...) __VA_ARGS__
#else
    #define ON_WORD_POINTER_POINTER(...)
#endif

struct WordArray
{
    Word*  words;
    size_t size;
    ON_WORD_POINTER_POINTER(
    size_t pointer;
    )
};

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

WordArray ReadBufferFromFile(const char* file     );
void      BufferDtor        (WordArray*  wordArray);

int       WordToInt         (const Word* word     );
double    WordToDouble      (const Word* word     );

//-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#endif // FILEREAD_HPP
